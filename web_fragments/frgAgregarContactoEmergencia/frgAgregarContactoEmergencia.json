{
  "designerVersion" : "1.11.52",
  "id" : "frgAgregarContactoEmergencia",
  "name" : "frgAgregarContactoEmergencia",
  "lastUpdate" : 1603922752243,
  "rows" : [
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "text" : {
            "type" : "interpolation",
            "value" : "AGREGAR CONTACTO DE EMERGENCIA"
          },
          "level" : {
            "type" : "constant",
            "value" : "Level 3"
          },
          "alignment" : {
            "type" : "constant",
            "value" : "center"
          }
        },
        "reference" : "f737bb3b-def0-4d0e-a7c9-a04a324afb64",
        "hasValidationError" : false,
        "id" : "pbTitle"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : true
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Default label"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "allowHTML" : {
            "type" : "constant",
            "value" : true
          },
          "text" : {
            "type" : "interpolation",
            "value" : "<hr></hr>"
          },
          "alignment" : {
            "type" : "constant",
            "value" : "left"
          }
        },
        "reference" : "fab07fac-486e-4d29-a555-0eb13b3ab968",
        "hasValidationError" : false,
        "id" : "pbText"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "disabled" : {
            "type" : "constant",
            "value" : false
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : true
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Default label"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "inline" : {
            "type" : "constant",
            "value" : true
          },
          "availableValues" : {
            "type" : "expression",
            "value" : "catCasoDeEmergencia"
          },
          "displayedKey" : {
            "type" : "constant",
            "value" : "descripcion"
          },
          "returnedKey" : {
            "type" : "constant",
            "value" : ""
          },
          "selectedValue" : {
            "type" : "variable",
            "value" : "casoEmergenciaJSON.catCasoDeEmergencia"
          }
        },
        "reference" : "99aaa8f4-7c47-44d6-b9be-3095723bc01b",
        "hasValidationError" : false,
        "id" : "pbRadioButtons"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "minLength" : {
            "type" : "constant",
            "value" : ""
          },
          "maxLength" : {
            "type" : "constant",
            "value" : ""
          },
          "readOnly" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Nombre:  <span class=\"glyphicon glyphicon-asterisk color-orange\"></span>"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "placeholder" : {
            "type" : "interpolation"
          },
          "value" : {
            "type" : "variable",
            "value" : "casoEmergenciaJSON.nombre"
          },
          "type" : {
            "type" : "constant",
            "value" : "text"
          },
          "min" : {
            "type" : "constant"
          },
          "max" : {
            "type" : "constant"
          },
          "step" : {
            "type" : "constant",
            "value" : 1
          }
        },
        "reference" : "3b4d1ab1-869c-4e7e-8913-15523fcd9dab",
        "hasValidationError" : false,
        "id" : "pbInput"
      },
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "minLength" : {
            "type" : "constant",
            "value" : ""
          },
          "maxLength" : {
            "type" : "constant",
            "value" : ""
          },
          "readOnly" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Teléfono:  <span class=\"glyphicon glyphicon-asterisk color-orange\"></span>"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "placeholder" : {
            "type" : "interpolation"
          },
          "value" : {
            "type" : "variable",
            "value" : "casoEmergenciaJSON.telefono"
          },
          "type" : {
            "type" : "constant",
            "value" : "text"
          },
          "min" : {
            "type" : "constant"
          },
          "max" : {
            "type" : "constant"
          },
          "step" : {
            "type" : "constant",
            "value" : 1
          }
        },
        "reference" : "5325cc7c-0dcc-4830-b32c-8945dce75be1",
        "hasValidationError" : false,
        "id" : "pbInput"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "minLength" : {
            "type" : "constant",
            "value" : ""
          },
          "maxLength" : {
            "type" : "constant",
            "value" : ""
          },
          "readOnly" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Teléfono celular:  <span class=\"glyphicon glyphicon-asterisk color-orange\"></span>"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "placeholder" : {
            "type" : "interpolation"
          },
          "value" : {
            "type" : "variable",
            "value" : "casoEmergenciaJSON.telefonoCelular"
          },
          "type" : {
            "type" : "constant",
            "value" : "text"
          },
          "min" : {
            "type" : "constant"
          },
          "max" : {
            "type" : "constant"
          },
          "step" : {
            "type" : "constant",
            "value" : 1
          }
        },
        "reference" : "6c4365ce-6fc6-4008-a609-34aa41b6fea4",
        "hasValidationError" : false,
        "id" : "pbInput"
      },
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "expression",
            "value" : "mostrarParentesco"
          },
          "disabled" : {
            "type" : "constant",
            "value" : false
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Parentesco:  <span class=\"glyphicon glyphicon-asterisk color-orange\"></span>"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "placeholder" : {
            "type" : "interpolation",
            "value" : "Selecciona una opción"
          },
          "availableValues" : {
            "type" : "expression",
            "value" : "catParentesco"
          },
          "displayedKey" : {
            "type" : "constant",
            "value" : "descripcion"
          },
          "returnedKey" : {
            "type" : "constant",
            "value" : ""
          },
          "value" : {
            "type" : "variable",
            "value" : "casoEmergenciaJSON.catParentesco"
          }
        },
        "reference" : "e4d9d62b-703c-482b-bc69-9524a3d285ea",
        "hasValidationError" : false,
        "id" : "pbSelect"
      }
    ],
    [
      {
        "type" : "container",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "repeatedCollection" : {
            "type" : "variable",
            "value" : ""
          }
        },
        "reference" : "f58c10a5-3472-41d1-8d1e-5cb709703f1f",
        "hasValidationError" : false,
        "id" : "pbContainer",
        "rows" : [
          [ ]
        ]
      },
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "expression",
            "value" : "addParentesco"
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "minLength" : {
            "type" : "constant",
            "value" : ""
          },
          "maxLength" : {
            "type" : "constant",
            "value" : ""
          },
          "readOnly" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Parentesco:  <span class=\"glyphicon glyphicon-asterisk color-orange\"></span>"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "placeholder" : {
            "type" : "interpolation"
          },
          "value" : {
            "type" : "variable",
            "value" : "casoEmergenciaJSON.parentesco"
          },
          "type" : {
            "type" : "constant",
            "value" : "text"
          },
          "min" : {
            "type" : "constant"
          },
          "max" : {
            "type" : "constant"
          },
          "step" : {
            "type" : "constant",
            "value" : 1
          }
        },
        "reference" : "4dfa12a1-7bc3-4cd0-a8a2-de4c193402b3",
        "hasValidationError" : false,
        "id" : "pbInput"
      }
    ]
  ],
  "assets" : [ ],
  "inactiveAssets" : [ ],
  "variables" : {
    "formInput" : {
      "type" : "constant",
      "value" : [
        ""
      ],
      "exposed" : true
    },
    "casoEmergenciaJSON" : {
      "type" : "constant",
      "value" : [
        ""
      ],
      "exposed" : true
    },
    "catCasoDeEmergencia" : {
      "type" : "constant",
      "value" : [
        ""
      ],
      "exposed" : true
    },
    "catParentesco" : {
      "type" : "constant",
      "value" : [
        ""
      ],
      "exposed" : true
    },
    "addParentesco" : {
      "type" : "expression",
      "value" : [
        "var mostrar = true;\r",
        "for (var x = 0; x < $data.catParentesco.length; x++) {\r",
        "    if ($data.casoEmergenciaJSON.catParentesco === undefined) {\r",
        "        mostrar = true;\r",
        "    } else {\r",
        "        if ($data.catParentesco[x].persistenceId === $data.casoEmergenciaJSON.catParentesco.persistenceId) {\r",
        "            if ($data.catParentesco[x].descripcion === \"Otro\") {\r",
        "                mostrar = false;\r",
        "            } else {\r",
        "                mostrar = true;\r",
        "            }\r",
        "        }\r",
        "    }\r",
        "\r",
        "}\r",
        "\r",
        "return mostrar;"
      ],
      "exposed" : false
    },
    "datosPadre" : {
      "type" : "expression",
      "value" : [
        "debugger;\r",
        "var mostrar = true;\r",
        "var otro = true;\r",
        "for (var x = 0; x < $data.catCasoDeEmergencia.length; x++) {\r",
        "  if($data.casoEmergenciaJSON.catCasoDeEmergencia === null){\r",
        "    if ($data.catCasoDeEmergencia[x].persistenceId === $data.casoEmergenciaJSON.catCasoDeEmergencia.persistenceId) {\r",
        "        if ($data.catCasoDeEmergencia[x].descripcion === \"Padre\") {\r",
        "            if ($data.padrevive) {\r",
        "                $data.casoEmergenciaJSON.nombre = $data.formInput.padreInput.nombre + \" \" + $data.formInput.padreInput.apellidos;\r",
        "                $data.casoEmergenciaJSON.telefono = $data.formInput.padreInput.telefono;\r",
        "\r",
        "                otro = false;\r",
        "                $data.casoEmergenciaJSON.parentesco = $data.catCasoDeEmergencia[x].descripcion;\r",
        "                for (var j = 0; j < $data.catParentesco.length; j++) {\r",
        "                    if ($data.catParentesco[j].descripcion === $data.casoEmergenciaJSON.parentesco) {\r",
        "                        //$data.casoEmergenciaJSON.parentesco = $data.catParentesco[j].descripcion;\r",
        "                        $data.casoEmergenciaJSON.catParentesco = $data.catParentesco[j];\r",
        "                    }\r",
        "                }\r",
        "            } else {\r",
        "                $data.casoEmergenciaJSON = {\r",
        "                  \"nombre\": \"\",\r",
        "                  \"telefono\": \"\",\r",
        "                  \"catCasoDeEmergencia\": null,\r",
        "                  \"telefonoCelular\": \"\",\r",
        "                  \"parentesco\": \"\",\r",
        "                  \"catParentesco\": null\r",
        "                }\r",
        "                alert(\"En la informacion de padre selecciono la opcion no vive, no puede seleccionarlo como contacto de emergencia\");\r",
        "            }\r",
        "\r",
        "        } else if ($data.catCasoDeEmergencia[x].descripcion === \"Madre\") {\r",
        "            if ($data.madrevive) {\r",
        "                $data.casoEmergenciaJSON.nombre = $data.formInput.madreInput.nombre + \" \" + $data.formInput.madreInput.apellidos;\r",
        "                $data.casoEmergenciaJSON.telefono = $data.formInput.madreInput.telefono;\r",
        "                //$data.casoEmergenciaJSON.idCatParentesco = $data.formInput.solicitudDeAdmisionInput.madre.idCatParentesco;\r",
        "                otro = false;\r",
        "                $data.casoEmergenciaJSON.parentesco = $data.catCasoDeEmergencia[x].descripcion;\r",
        "                for (var j = 0; j < $data.catParentesco.length; j++) {\r",
        "                    if ($data.catParentesco[j].descripcion === $data.casoEmergenciaJSON.parentesco) {\r",
        "                        //$data.casoEmergenciaJSON.parentesco = $data.catParentesco[j].descripcion;\r",
        "                        $data.casoEmergenciaJSON.catParentesco = $data.catParentesco[j];\r",
        "                    }\r",
        "                }\r",
        "            } else {\r",
        "                $data.casoEmergenciaJSON = {\r",
        "                  \"nombre\": \"\",\r",
        "                  \"telefono\": \"\",\r",
        "                  \"catCasoDeEmergencia\": null,\r",
        "                  \"telefonoCelular\": \"\",\r",
        "                  \"parentesco\": \"\",\r",
        "                  \"catParentesco\": null\r",
        "                }\r",
        "                alert(\"En la informacion de madre selecciono la opcion no vive, no puede seleccionarla como contacto de emergencia\");\r",
        "            }\r",
        "\r",
        "\r",
        "\r",
        "        } else if ($data.catCasoDeEmergencia[x].descripcion === \"Tutor\") {\r",
        "            $data.casoEmergenciaJSON.nombre = $data.formInput.tutorInput[0].nombre + \" \" + $data.formInput.tutorInput[0].apellidos;\r",
        "            $data.casoEmergenciaJSON.telefono = $data.formInput.tutorInput[0].telefono;\r",
        "            $data.casoEmergenciaJSON.idCatParentesco = $data.formInput.tutorInput[0].idCatParentesco;\r",
        "            otro = false;\r",
        "            for (var j = 0; j < $data.catParentesco.length; j++) {\r",
        "                if ($data.catParentesco[j].persistenceId === $data.casoEmergenciaJSON.catParentesco.persistenceId) {\r",
        "                    $data.casoEmergenciaJSON.parentesco = $data.catParentesco[j].descripcion;\r",
        "                }\r",
        "                //$data.casoEmergenciaJSON.parentesco = $data.formInput.solicitudDeAdmisionInput.tutor[0].parentesco;\r",
        "            }\r",
        "            /*if(!otro){\r",
        "                for(var j=0;j<$data.catParentesco.length;j++){\r",
        "                if($data.catParentesco[j].persistenceId===$data.casoEmergenciaJSON.idCatParentesco){\r",
        "                    $data.casoEmergenciaJSON.parentesco = $data.catParentesco[j].descripcion;\r",
        "                }\r",
        "            }\r",
        "            }*/\r",
        "        } else if ($data.catCasoDeEmergencia[x].descripcion === \"Otro\") {\r",
        "            $data.contactoJson = {\r",
        "              \"nombre\": \"\",\r",
        "              \"telefono\": \"\",\r",
        "              \"catCasoDeEmergencia\": null,\r",
        "              \"telefonoCelular\": \"\",\r",
        "              \"parentesco\": \"\",\r",
        "              \"catParentesco\": null\r",
        "            }\r",
        "        }\r",
        "    }\r",
        "  }\r",
        "}\r",
        "\r",
        "return mostrar;"
      ],
      "exposed" : false
    },
    "mostrarParentesco" : {
      "type" : "expression",
      "value" : [
        "var mostrar = true;\r",
        "for (var x = 0; x < $data.catCasoDeEmergencia.length; x++) {\r",
        "    if ($data.casoEmergenciaJSON.catCasoDeEmergencia === undefined) {\r",
        "        mostrar = true;\r",
        "    } else {\r",
        "        if ($data.catCasoDeEmergencia[x].persistenceId === $data.casoEmergenciaJSON.catContactoDeEmergencia.persistenceId) {\r",
        "            if ($data.catCasoDeEmergencia[x].descripcion === \"Otro\") {\r",
        "                mostrar = false;\r",
        "            } else {\r",
        "                mostrar = true;\r",
        "            }\r",
        "        }\r",
        "    }\r",
        "\r",
        "}\r",
        "\r",
        "return mostrar;"
      ],
      "exposed" : false
    },
    "padrevive" : {
      "type" : "constant",
      "value" : [
        ""
      ],
      "exposed" : true
    },
    "madrevive" : {
      "type" : "constant",
      "value" : [
        ""
      ],
      "exposed" : true
    }
  },
  "hasValidationError" : false,
  "type" : "fragment"
}